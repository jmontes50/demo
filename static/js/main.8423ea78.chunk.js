(this.webpackJsonptasks=this.webpackJsonptasks||[]).push([[0],{113:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),i=(a(113),a(23)),o=a(13),l=a(16),u=a(10),j=a(18),d=a(12),b=a(102),p=a.n(b),O=a(54),x=a(103),h=a.n(x),f=a(2);function m(e){var t=e.droppableId,a=e.listaTareas,n=e.titulosLista,r=e.posicion;return Object(f.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(f.jsx)("h3",{className:"tarea-titulo medium p-3",children:n[r].titulo}),Object(f.jsx)(O.c,{droppableId:t,children:function(e){return Object(f.jsxs)("div",Object(j.a)(Object(j.a)({className:""},e.droppableProps),{},{ref:e.innerRef,children:[a.map((function(e,t){var a=e.tarea_id,c=e.tarea_titulo,s=e.tarea_descripcion;return Object(f.jsx)(O.b,{draggableId:"".concat(a),index:t,children:function(e,t){return Object(f.jsxs)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"tarea-item poppins p-3 m-2",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(a=t.isDragging,i=e.draggableProps.style,Object(j.a)({background:a?"lightblue":null},i)),children:[Object(f.jsx)("div",{style:{backgroundColor:n[r].color}}),Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)("h6",{children:c}),Object(f.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){var e,t,a;e=c,t=s,a=n[r].color,h.a.fire({title:e,text:t,confirmButtonText:"Cerrar Ventana",confirmButtonColor:a})},children:"Ver M\xe1s"})]})]}));var a,i}},a)})),e.placeholder]}))}})]})}var v=a(8),g=a.n(v),N=a(14),k=a(58);a(149);k.a.initializeApp({apiKey:"AIzaSyBdUcuM_LSunx9Lj7PkNsnZUI0_Vxdr3eM",authDomain:"tasks-e039f.firebaseapp.com",projectId:"tasks-e039f",storageBucket:"tasks-e039f.appspot.com",messagingSenderId:"975064861677",appId:"1:975064861677:web:33878d934762745e3f35e4"});var y=k.a.auth(),w=a(75),C=a.n(w),I=function(){var e=Object(N.a)(g.a.mark((function e(t){var a,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={"Content-Type":"application/json"},n={usuario_nombre:t},e.next=5,C.a.post("https://task-manager-backend-webinar.herokuapp.com/usuario",n,{headers:a});case 5:r=e.sent,c=r.data,console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(N.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("http://localhost:5000/usuarios");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(N.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return a=e.sent,n=a.content,r=n.find((function(e){return e.usuario_nombre===t})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(){return Object(f.jsx)("div",{style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"white",zIndex:"1000"},children:Object(f.jsx)("i",{className:"fas fa-spinner fa-spin fa-6x",style:{color:"black",position:"relative",top:"calc(50% - 50px)",left:"calc(50% - 50px)"}})})}var E=new k.a.auth.GoogleAuthProvider,T=Object(n.createContext)(null),F=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!0),i=Object(d.a)(s,2),o=i[0],l=i[1],u=function(){var e=Object(N.a)(g.a.mark((function e(){var t,a,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.signInWithPopup(E);case 2:return t=e.sent,a=t.user,e.next=6,S();case 6:if(n=e.sent,r=n.content,c="".concat(a.uid,".").concat(a.displayName),s=c,!r.map((function(e){return e.usuario_nombre})).includes(s)){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,I(c);case 15:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return y.onAuthStateChanged((function(e){c(e),l(!1)}))}),[]),o?Object(f.jsx)(P,{}):Object(f.jsx)(T.Provider,{value:{signInWithGoogle:u,signUp:function(e,t){return y.createUserWithEmailAndPassword(e,t)},signOut:function(){return y.signOut()},userState:r},children:e.children})},A=a(179),B=a(106),L=a(107);function z(e){var t=e.show,a=e.handleClose,r=e.crearTarea,c=Object(L.a)(),s=c.register,i=c.handleSubmit,o=c.errors,l=Object(n.useContext)(T).userState,u=function(){var e=Object(N.a)(g.a.mark((function e(t){var n,c,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.uid,".").concat(l.displayName),e.next=3,_(n);case 3:c=e.sent,s=c.usuario_id,i=Object(j.a)(Object(j.a)({},t),{},{estado:JSON.parse(t.estado),usuario:s}),r(i),a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsxs)(A.a,{show:t,onHide:a,children:[Object(f.jsx)(A.a.Header,{closeButton:!0,children:Object(f.jsx)(A.a.Title,{children:"Modal heading"})}),Object(f.jsx)(A.a.Body,{children:Object(f.jsxs)("form",{onSubmit:i(u),children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"titulo",children:"T\xedtulo"}),Object(f.jsx)("input",{type:"text",name:"titulo",id:"titulo",placeholder:"Ej. Programar Reuni\xf3n",className:"form-control",ref:s({required:!0})}),o.titulo&&"required"===o.titulo.type&&Object(f.jsx)("small",{className:"text-danger",children:"Es obligatorio!!"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"descripcion",children:"Descripci\xf3n"}),Object(f.jsx)("input",{type:"text",name:"descripcion",id:"descripcion",placeholder:"Ej. Programar Reuni\xf3n D\xeda Jueves para el Webinar!!!!!",className:"form-control",ref:s({required:!0})}),o.descripcion&&"required"===o.descripcion.type&&Object(f.jsx)("small",{className:"text-danger",children:"Es obligatorio!!"})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{children:"Estado Civil"}),Object(f.jsxs)("select",{name:"estado",className:"form-control",ref:s({required:!0}),children:[Object(f.jsx)("option",{value:!1,defaultValue:!0,children:"Por Hacer"}),Object(f.jsx)("option",{value:!0,children:"Finalizado"})]}),o.estado&&"required"===o.estado.type&&Object(f.jsx)("small",{className:"text-danger",children:"Es obligatorio!!"})]}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(f.jsx)(B.a,{variant:"secondary",onClick:a,className:"mr-2",children:"Cerrar"}),Object(f.jsx)(B.a,{variant:"primary",type:"submit",children:"Guardar"})]})]})})]})})}var H,R="https://task-manager-backend-webinar.herokuapp.com/usuario";function U(){var e=Object(n.useState)({tareasPorHacer:[],tareasFinalizadas:[]}),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(d.a)(c,2),i=s[0],b=s[1],x=Object(n.useState)(null),h=Object(d.a)(x,2),v=h[0],g=h[1],N=Object(n.useContext)(T).userState,k=Object(o.g)().id;if(Object(n.useEffect)((function(){N||g("/login")}),[N]),Object(n.useEffect)((function(){(H=p()(R)).emit("tareas",k)}),[R]),Object(n.useEffect)((function(){H.on("tareas",(function(e){var t=e.filter((function(e){return!1===e.tarea_estado})),a=e.filter((function(e){return!0===e.tarea_estado}));r({tareasPorHacer:t,tareasFinalizadas:a})}))})),v)return Object(f.jsx)(o.a,{to:v});var y,w=function(e){return a[e]},C=[{titulo:"Por Hacer",color:"#FF3838"},{titulo:"Terminado!",color:"#0AAAF4"}];return Object(f.jsxs)("div",{children:[null!==v?Object(f.jsx)(P,{}):Object(f.jsxs)("div",{className:"container pt-5",children:[Object(f.jsxs)("button",{className:"btn btn-primary btn-lg btn-agregar-tarea",onClick:function(){return b(!0)},children:[Object(f.jsx)("i",{className:"fas fa-plus mr-2"}),Object(f.jsx)("span",{children:"Agregar Tarea"})]}),Object(f.jsx)(O.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(n)if(t.droppableId===n.droppableId){var c=function(e,t,a){var n=Object(u.a)(e),r=n.splice(t,1),c=Object(d.a)(r,1)[0];return n.splice(a,0,c),n}(w(t.droppableId),t.index,n.index);r(Object(j.a)(Object(j.a)({},a),{},Object(l.a)({},t.droppableId,Object(u.a)(c))))}else{var s=w(t.droppableId),i=function(e,t,a,n){var r,c=Object(u.a)(e),s=Object(u.a)(t),i=c.splice(a.index,1),o=Object(d.a)(i,1)[0];return s.splice(n.index,0,o),r={},Object(l.a)(r,a.droppableId,c),Object(l.a)(r,n.droppableId,s),r}(s,w(n.droppableId),t,n);!function(e){var t=e.tarea_id,a=e.tarea_titulo,n=e.tarea_descripcion,r={id:t,tarea:{titulo:a,estado:!e.tarea_estado,descripcion:n,usuario:k}};H.emit("editar_tarea",r)}(s[t.index]),r(Object(j.a)(Object(j.a)({},a),i))}},children:Object(f.jsx)("div",{className:"row",children:(y=a,Object.entries(y)).map((function(e,t){var a=Object(d.a)(e,2),n=a[0],r=a[1];return Object(f.jsx)(m,{droppableId:n,listaTareas:r,titulosLista:C,posicion:t},t)}))})})]}),Object(f.jsx)(z,{show:i,handleClose:function(){return b(!1)},crearTarea:function(e){H.emit("nueva_tarea",e)}})]})}function q(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(T),s=c.userState,i=c.signInWithGoogle;return Object(n.useEffect)((function(){s&&r("/usuarios")}),[s]),a?Object(f.jsx)(o.a,{to:a}):Object(f.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center",children:Object(f.jsxs)("div",{className:"login-main",children:[Object(f.jsx)("h1",{className:"poppins semi-bold mb-4",children:"Ingresa a TareasApp"}),Object(f.jsxs)("button",{className:"btn btn-danger btn-lg btn-block d-flex align-items-center justify-content-center poppins",onClick:i,children:[Object(f.jsx)("i",{className:"fab fa-google mr-2"}),"Ingresa con Google"]})]})})}function D(){return Object(f.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center inicio",children:Object(f.jsxs)("h1",{className:"d-flex flex-column text-center poppins semi-bold",children:[Object(f.jsx)("span",{children:"Planifica"}),Object(f.jsx)("span",{children:"Trabaja"}),Object(f.jsx)("span",{children:"Realiza!"})]})})}function G(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(d.a)(c,2),l=s[0],u=s[1],j=Object(n.useContext)(T).userState,b=function(){var e=Object(N.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,a=t.content,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j||u("/login")}),[j]),Object(n.useEffect)((function(){b()}),[]),l?Object(f.jsx)(o.a,{to:l}):Object(f.jsx)("div",{className:"container",children:0===a.length?Object(f.jsx)(P,{}):Object(f.jsxs)("div",{className:"mt-4",children:[Object(f.jsx)("h1",{className:"poppins",children:"Usuarios"}),Object(f.jsx)("p",{className:"poppins",children:"Elije un usuario para ver sus tareas"}),Object(f.jsx)("div",{className:"row",children:a.map((function(e,t){return Object(f.jsx)("div",{className:"col-12 col-lg-6 col-xl-4",children:Object(f.jsx)(i.b,{to:"/tareas/".concat(e.usuario_id),className:"card mb-4 nav-link",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)("h4",{children:e.usuario_nombre.split(".")[1]})})},t)})}))})]})})}function M(){return Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(o.b,{path:"/",exact:!0,component:D}),Object(f.jsx)(o.b,{path:"/tareas/:id",exact:!0,component:U}),Object(f.jsx)(o.b,{path:"/login",exact:!0,component:q}),Object(f.jsx)(o.b,{path:"/usuarios",exact:!0,component:G})]})}var W=a(180),J=a(181),V=a(178);function K(){var e=Object(n.useContext)(T),t=e.userState,a=e.signOut;return Object(f.jsx)(W.a,{collapseOnSelect:!0,expand:"lg",bg:"light",variant:"light",children:Object(f.jsxs)("div",{className:"container poppins",children:[Object(f.jsxs)(W.a.Brand,{className:"semi-bold",children:[Object(f.jsx)("i",{className:"fas fa-tasks mr-1"}),"TareasApp"]}),Object(f.jsx)(W.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(f.jsxs)(W.a.Collapse,{id:"responsive-navbar-nav",children:[Object(f.jsxs)(J.a,{className:"mr-auto",children:[Object(f.jsx)(i.c,{to:"/",className:"nav-link",activeClassName:"active",children:"Inicio"}),t?Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(i.c,{to:"/tareas",className:"nav-link",activeClassName:"active",children:"Tareas"}),Object(f.jsx)(i.c,{to:"/usuarios",className:"nav-link",activeClassName:"active",children:"Usuarios"})]}):null]}),Object(f.jsx)(J.a,{children:t?Object(f.jsx)(n.Fragment,{children:Object(f.jsx)(V.a,{title:Object(f.jsxs)("div",{className:"d-inline",children:[Object(f.jsx)("img",{src:t.photoURL,className:"mr-2",style:{borderRadius:"50%",width:"30px"},alt:"avatar ".concat(t.displayName)}),Object(f.jsx)("span",{children:t.displayName})]}),id:"collasible-nav-dropdown",children:Object(f.jsx)(V.a.Item,{onClick:a,children:"Salir"})})}):Object(f.jsx)(i.c,{to:"/login",className:"nav-link",activeClassName:"active",children:"Login"})})]})]})})}function Z(){return Object(f.jsx)(i.a,{children:Object(f.jsxs)(F,{children:[Object(f.jsx)(K,{}),Object(f.jsx)(o.d,{children:Object(f.jsx)(M,{})})]})})}var Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,182)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(172);s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root")),Q()}},[[173,1,2]]]);
//# sourceMappingURL=main.8423ea78.chunk.js.map